(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[634],{5877:function(e,t,r){(window.__NEXT_P=window.__NEXT_P||[]).push(["/campaigns/show",function(){return r(9967)}])},9967:function(e,t,r){"use strict";r.r(t),r.d(t,{default:function(){return g}});var s=r(5893),a=r(7294),n=r(8005),i=r(967),o=r(3762),u=r(9261),d=r(8316),c=r(2932),h=r(6144),l=r(416),m=r(8156),p=r(203),w=e=>{let{address:t}=e,[r,n]=(0,a.useState)(""),[o,u]=(0,a.useState)(""),[w,b]=(0,a.useState)(!1),g=async e=>{e.preventDefault();let s=(0,d.Z)(t);b(!0),u("");try{let e=await c.Z.eth.getAccounts();await s.methods.contribute().send({from:e[0],value:c.Z.utils.toWei(r,"ether")}),p.Router.replaceRoute("/campaigns/".concat(t))}catch(e){u(e.message)}b(!1),n("")};return(0,s.jsxs)(h.Z,{onSubmit:g,error:!!o,children:[(0,s.jsxs)(h.Z.Field,{children:[(0,s.jsx)("label",{children:"Amount to Contribute"}),(0,s.jsx)(l.Z,{value:r,onChange:e=>n(e.target.value),label:"ether",labelPosition:"right"})]}),(0,s.jsx)(m.Z,{error:!0,header:"Oops!",content:o}),(0,s.jsx)(i.Z,{primary:!0,loading:w,children:"Contribute!"})]})};class b extends a.Component{static async getInitialProps(e){let t=(0,d.Z)(e.query.address),r=await t.methods.getSummary().call();return{address:e.query.address,minimumContribution:r[0],balance:r[1],requestsCount:r[2],approversCount:r[3],manager:r[4]}}render(){return(0,s.jsxs)(u.Z,{children:[(0,s.jsx)("h3",{children:"Campaign Show"}),(0,s.jsxs)(n.Z,{children:[(0,s.jsxs)(n.Z.Row,{children:[(0,s.jsx)(n.Z.Column,{width:10,children:this.renderCards()}),(0,s.jsx)(n.Z.Column,{width:6,children:(0,s.jsx)(w,{address:this.props.address})})]}),(0,s.jsx)(n.Z.Row,{children:(0,s.jsx)(n.Z.Column,{children:(0,s.jsx)(p.Link,{legacyBehavior:!0,route:"/campaigns/".concat(this.props.address,"/requests"),children:(0,s.jsx)("a",{children:(0,s.jsx)(i.Z,{primary:!0,children:"View Requests"})})})})})]})]})}constructor(...e){super(...e),this.renderCards=()=>{let{balance:e,manager:t,minimumContribution:r,requestsCount:a,approversCount:n}=this.props,i=[{header:t,meta:"Address of Manager",description:"The manager created this campaign and can create requests to withdraw money",style:{overflowWrap:"break-word"}},{header:r,meta:"Minimum Contribution (wei)",description:"You must contribute at least this much wei to become an approver"},{header:a,meta:"Number of Requests",description:"A request tries to withdraw money from the contract. Requests must be approved by approvers"},{header:n,meta:"Number of Approvers",description:"Number of people who have already donated to this campaign"},{header:c.Z.utils.fromWei(e,"ether"),meta:"Campaign Balance (ether)",description:"The balance is how much money this campaign has left to spend."}];return(0,s.jsx)(o.Z.Group,{items:i})}}}var g=b}},function(e){e.O(0,[543,810,242,299,480,888,774,179],function(){return e(e.s=5877)}),_N_E=e.O()}]);